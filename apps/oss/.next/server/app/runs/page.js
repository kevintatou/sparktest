(()=>{var e={};e.id=611,e.ids=[611],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8061:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o}),s(8481),s(1558),s(5676);var r=s(3967),a=s(9886),l=s(2954),n=s.n(l),d=s(7014),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);s.d(t,i);let o=["",{children:["runs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8481)),"/home/runner/work/sparktest/sparktest/apps/oss/app/runs/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1558)),"/home/runner/work/sparktest/sparktest/apps/oss/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5676,23)),"next/dist/client/components/not-found-error"]}],c=["/home/runner/work/sparktest/sparktest/apps/oss/app/runs/page.tsx"],u="/runs/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/runs/page",pathname:"/runs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3810:(e,t,s)=>{Promise.resolve().then(s.bind(s,1334))},1334:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(3029),a=s(2056),l=s(2534),n=s(294),d=s(9116),i=s(4330),o=s(3194),c=s(1027),u=s(7867),m=s(2385),x=s(787),p=s(4888),h=s(6907),f=s(3910),g=s(7365),b=s(6710),j=s(1080);s(3943);let v=e=>{switch(e){case"completed":return r.jsx(n.Z,{className:"h-4 w-4 text-green-500"});case"failed":return r.jsx(d.Z,{className:"h-4 w-4 text-red-500"});case"running":return r.jsx(i.Z,{className:"h-4 w-4 text-blue-500"});default:return r.jsx(o.Z,{className:"h-4 w-4 text-yellow-500"})}},N=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"running":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}};function y(){let{toast:e}=(0,b.pm)(),[t,s]=(0,a.useState)([]),[n,d]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[y,w]=(0,a.useState)(""),[k,C]=(0,a.useState)(null);(0,a.useRef)(!1);let S=e=>{if(!e)return"Unknown";let t=n.find(t=>t.id===e);return t?.name||`Definition ${e}`},T=e=>{if(!e)return"Unknown";let t=i.find(t=>t.id===e);return t?.name||`Executor ${e}`},A=t=>{C(t),setTimeout(()=>{s(e=>e.filter(e=>e.id!==t)),C(null),e({title:"Test run deleted",description:"The test run has been removed successfully."})},500)},_=t.filter(e=>e.name.toLowerCase().includes(y.toLowerCase())||e.status.toLowerCase().includes(y.toLowerCase())||e.id.toLowerCase().includes(y.toLowerCase())||S(e.definitionId).toLowerCase().includes(y.toLowerCase())||T(e.executorId).toLowerCase().includes(y.toLowerCase()));return(0,r.jsxs)("div",{className:"container py-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Test Runs"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Monitor and manage your test runs"})]}),r.jsx(p.z,{asChild:!0,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:(0,r.jsxs)(l.default,{href:"/runs/new",children:[r.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"New Run"]})})]}),r.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:(0,r.jsxs)("div",{className:"relative w-full max-w-sm",children:[r.jsx(f.I,{placeholder:"Search runs...",className:"pl-10 bg-slate-50 dark:bg-slate-800 border-0 focus-visible:ring-1",value:y,onChange:e=>w(e.target.value)}),r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),0===_.length?r.jsx(h.Zb,{className:"p-12 text-center bg-gradient-to-br from-slate-50 to-white dark:from-slate-900 dark:to-slate-800 border-dashed",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900 dark:to-purple-900 flex items-center justify-center",children:r.jsx(u.Z,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:y?"No test runs match your search":"No test runs yet"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:y?"Try adjusting your search terms.":"Start your first test run to see execution results here."}),!y&&r.jsx(p.z,{asChild:!0,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:(0,r.jsxs)(l.default,{href:"/runs/new",children:[r.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"Start Test Run"]})})]})]})}):r.jsx("div",{className:"space-y-4",children:_.map(e=>(0,r.jsxs)(h.Zb,{className:"group hover:shadow-lg transition-all duration-200 bg-gradient-to-br from-white to-slate-50 dark:from-slate-800 dark:to-slate-900 border-slate-200 dark:border-slate-700",children:[r.jsx(h.Ol,{className:"pb-4",children:(0,r.jsxs)(h.ll,{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[v(e.status),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Run ID: ",e.id]})]})]}),r.jsx(g.C,{className:N(e.status),children:e.status})]})}),(0,r.jsxs)(h.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Started:"}),r.jsx("p",{className:"font-medium",children:(0,j.QN)(e.createdAt)})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),r.jsx("p",{className:"font-medium",children:"running"===e.status?"Running...":`${e.duration||0}s`})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Test Definition:"}),r.jsx("p",{className:"font-medium text-blue-600 dark:text-blue-400",children:S(e.definitionId)})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Executor:"}),r.jsx("p",{className:"font-medium text-purple-600 dark:text-purple-400",children:T(e.executorId)})]})]}),e.k8sJobName&&(0,r.jsxs)("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-lg p-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(m.Z,{className:"h-4 w-4 text-blue-500"}),r.jsx("span",{className:"text-sm font-medium",children:"Kubernetes Job"})]}),r.jsx("p",{className:"text-sm font-mono text-slate-600 dark:text-slate-400",children:e.k8sJobName})]}),e.logs&&e.logs.length>0&&(0,r.jsxs)("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-lg p-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(x.Z,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-sm font-medium",children:"Recent Logs"})]}),r.jsx(p.z,{variant:"ghost",size:"sm",asChild:!0,children:r.jsx(l.default,{href:`/runs/${e.id}`,className:"text-xs",children:"View All"})})]}),(0,r.jsxs)("div",{className:"text-sm font-mono text-slate-700 dark:text-slate-300 max-h-20 overflow-hidden",children:[Array.isArray(e.logs)?e.logs.slice(-3).join("\n"):String(e.logs||""),Array.isArray(e.logs)&&e.logs.length>3&&(0,r.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["... and ",e.logs.length-3," more lines"]})]})]})]}),(0,r.jsxs)(h.eW,{className:"flex justify-between border-t pt-4 bg-slate-50/50 dark:bg-slate-800/50",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(p.z,{variant:"outline",size:"sm",asChild:!0,children:r.jsx(l.default,{href:`/runs/${e.id}`,children:"View Details"})}),(e.logs||e.k8sJobName)&&r.jsx(p.z,{variant:"outline",size:"sm",asChild:!0,className:"text-blue-600 hover:text-blue-700",children:(0,r.jsxs)(l.default,{href:`/runs/${e.id}#logs`,children:[r.jsx(x.Z,{className:"mr-1 h-3 w-3"}),"Logs"]})}),"running"!==e.status&&r.jsx(p.z,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50 hover:text-red-700 hover:border-red-200 dark:text-red-400 dark:hover:bg-red-950 dark:hover:text-red-300",onClick:()=>A(e.id),disabled:k===e.id,children:k===e.id?(0,r.jsxs)("svg",{className:"h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Delete"})]}),"failed"===e.status&&(0,r.jsxs)(p.z,{size:"sm",variant:"outline",className:"bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-950 dark:hover:bg-blue-900 dark:text-blue-300 dark:border-blue-800",children:[r.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Retry"]})]})]},e.id))})]})}},7365:(e,t,s)=>{"use strict";s.d(t,{C:()=>d});var r=s(3029),a=s(9848),l=s(1080);let n=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-500/80"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t,...s}){return r.jsx("div",{className:(0,l.cn)(n({variant:t}),e),...s})}},6907:(e,t,s)=>{"use strict";s.d(t,{Ol:()=>d,SZ:()=>o,Zb:()=>n,aY:()=>c,eW:()=>u,ll:()=>i});var r=s(3029),a=s(2056),l=s(1080);let n=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,l.cn)("w-full rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let d=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...t}));d.displayName="CardHeader";let i=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));i.displayName="CardTitle";let o=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,l.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:(0,l.cn)("flex items-center gap-2 p-6 pt-0",e),...t}));u.displayName="CardFooter"},6710:(e,t,s)=>{"use strict";s.d(t,{pm:()=>m});var r=s(2056);let a=0,l=new Map,n=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],o={toasts:[]};function c(e){o=d(o,e),i.forEach(e=>{e(o)})}function u({...e}){let t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,t]=r.useState(o);return r.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},3194:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(1663).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},294:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(1663).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9116:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(1663).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},4330:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(1663).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(7824).createProxy)(String.raw`/home/runner/work/sparktest/sparktest/apps/oss/app/runs/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[667,447,989],()=>s(8061));module.exports=r})();