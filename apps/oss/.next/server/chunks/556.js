"use strict";exports.id=556,exports.ids=[556],exports.modules={5556:(e,t,a)=>{a.d(t,{TestDefinitionForm:()=>$});var s=a(3029),r=a(2056),n=a(8956),i=a(1027),o=a(2497),l=a(4888),d=a(6907),c=a(3910),u=a(6920),m=a(8205),f=a(6710),p=a(8637),x=a(3943),h=a(4409),g=a(7733),v=a(6740),y=a(1762),b=a(2377),j=a(7300),N=a(8723),w=a(6654),T="Tabs",[C,S]=(0,g.b)(T,[v.Pc]),I=(0,v.Pc)(),[R,D]=C(T),k=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,onValueChange:n,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:d="automatic",...c}=e,u=(0,j.gm)(l),[m,f]=(0,N.T)({prop:r,onChange:n,defaultProp:i??"",caller:T});return(0,s.jsx)(R,{scope:a,baseId:(0,w.M)(),value:m,onValueChange:f,orientation:o,dir:u,activationMode:d,children:(0,s.jsx)(b.WV.div,{dir:u,"data-orientation":o,...c,ref:t})})});k.displayName=T;var A="TabsList",E=r.forwardRef((e,t)=>{let{__scopeTabs:a,loop:r=!0,...n}=e,i=D(A,a),o=I(a);return(0,s.jsx)(v.fC,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:(0,s.jsx)(b.WV.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:t})})});E.displayName=A;var _="TabsTrigger",F=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,disabled:n=!1,...i}=e,o=D(_,a),l=I(a),d=V(o.baseId,r),c=z(o.baseId,r),u=r===o.value;return(0,s.jsx)(v.ck,{asChild:!0,...l,focusable:!n,active:u,children:(0,s.jsx)(b.WV.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:d,...i,ref:t,onMouseDown:(0,h.M)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(r)}),onKeyDown:(0,h.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(r)}),onFocus:(0,h.M)(e.onFocus,()=>{let e="manual"!==o.activationMode;u||n||!e||o.onValueChange(r)})})})});F.displayName=_;var M="TabsContent",O=r.forwardRef((e,t)=>{let{__scopeTabs:a,value:n,forceMount:i,children:o,...l}=e,d=D(M,a),c=V(d.baseId,n),u=z(d.baseId,n),m=n===d.value,f=r.useRef(m);return r.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,s.jsx)(y.z,{present:i||m,children:({present:a})=>(0,s.jsx)(b.WV.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":c,hidden:!a,id:u,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:a&&o})})});function V(e,t){return`${e}-trigger-${t}`}function z(e,t){return`${e}-content-${t}`}O.displayName=M;var Z=a(1080);let G=r.forwardRef(({className:e,...t},a)=>s.jsx(E,{ref:a,className:(0,Z.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));G.displayName=E.displayName;let P=r.forwardRef(({className:e,...t},a)=>s.jsx(F,{ref:a,className:(0,Z.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));P.displayName=F.displayName;let U=r.forwardRef(({className:e,...t},a)=>s.jsx(O,{ref:a,className:(0,Z.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));function $({existingTest:e}){let t=(0,n.useRouter)(),{toast:a}=(0,f.pm)(),[h,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)("manual"),[b,j]=(0,r.useState)([]),[N,w]=(0,r.useState)(!1),[T,C]=(0,r.useState)({name:e?.name||"",description:e?.description||"",image:e?.image||"",commands:e?.commands||[""],executorId:e?.executorId?e.executorId:"none"}),[S,I]=(0,r.useState)(""),[R,D]=(0,r.useState)("/tests"),A=e=>{C(t=>({...t,commands:t.commands.filter((t,a)=>a!==e)}))},E=(e,t)=>{C(a=>({...a,commands:a.commands.map((a,s)=>s===e?t:a)}))},_=async s=>{s.preventDefault(),g(!0);try{let s={...T,commands:T.commands.filter(Boolean),createdAt:e?.createdAt||new Date().toISOString(),executorId:"none"===T.executorId?void 0:T.executorId};x.t.saveDefinition(s),a({title:e?"Test definition updated":"Test definition created",description:`Test "${T.name}" has been ${e?"updated":"created"} successfully.`}),t.push("/definitions")}catch(t){a({title:`Error ${e?"updating":"creating"} test definition`,description:t instanceof Error?t.message:"Unknown error occurred",variant:"destructive"})}finally{g(!1)}},F=async e=>{e.preventDefault(),g(!0);try{a({title:"GitHub Sync Triggered",description:`Syncing definitions from ${S}${R}`}),t.push("/definitions")}catch(e){a({title:"Error syncing from GitHub",description:e instanceof Error?e.message:"Unknown error occurred",variant:"destructive"})}finally{g(!1)}};return(0,s.jsxs)(k,{value:v,onValueChange:y,className:"w-full",children:[(0,s.jsxs)(G,{className:"mb-4",children:[s.jsx(P,{value:"manual",children:"Manual Entry"}),s.jsx(P,{value:"github",children:"Git-backed (GitHub)"})]}),s.jsx(U,{value:"manual",children:s.jsx("form",{onSubmit:_,children:(0,s.jsxs)(d.Zb,{className:"shadow-sm",children:[(0,s.jsxs)(d.Ol,{children:[(0,s.jsxs)(d.ll,{children:[e?"Edit":"Create"," Test Definition"]}),s.jsx(d.SZ,{children:e?"Update this test definition":"Create a reusable test definition that can be executed on demand or scheduled."})]}),(0,s.jsxs)(d.aY,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(u._,{htmlFor:"name",children:"Test Name"}),s.jsx(c.I,{id:"name",placeholder:"e.g., API Integration Tests",value:T.name,onChange:e=>C({...T,name:e.target.value}),required:!0,className:"transition-all focus-visible:ring-primary"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(u._,{htmlFor:"description",children:"Description"}),s.jsx(m.g,{id:"description",placeholder:"Describe what this test does...",value:T.description,onChange:e=>C({...T,description:e.target.value}),rows:3,className:"transition-all focus-visible:ring-primary"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(u._,{htmlFor:"executor",children:"Executor (Optional)"}),(0,s.jsxs)(p.Ph,{value:T.executorId,onValueChange:e=>C({...T,executorId:"none"===e?"":e}),disabled:N,children:[s.jsx(p.i4,{className:"transition-all focus-visible:ring-primary",children:s.jsx(p.ki,{placeholder:N?"Loading executors...":"Select an executor (optional)"})}),(0,s.jsxs)(p.Bw,{children:[s.jsx(p.Ql,{value:"none",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("span",{children:"No executor (custom)"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Use custom image and commands"})]})}),b.map(e=>s.jsx(p.Ql,{value:e.id,children:(0,s.jsxs)("div",{className:"flex flex-col",children:[s.jsx("span",{children:e.name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:e.description})]})},e.id))]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a pre-configured executor to automatically populate image and commands, or leave empty for custom configuration."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(u._,{htmlFor:"image",children:"Container Image"}),s.jsx(c.I,{id:"image",placeholder:"e.g., node:18-alpine",value:T.image,onChange:e=>C({...T,image:e.target.value}),required:!0,className:"transition-all focus-visible:ring-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The Docker image that contains your test code and dependencies"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx(u._,{children:"Commands"}),(0,s.jsxs)(l.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{C(e=>({...e,commands:[...e.commands,""]}))},children:[s.jsx(i.Z,{className:"mr-2 h-4 w-4"}),"Add Command"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[T.commands.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-2 animate-in fade-in-50",children:[s.jsx(c.I,{placeholder:`e.g., npm test${t>0?` (command ${t+1})`:""}`,value:e,onChange:e=>E(t,e.target.value),required:0===t,className:"transition-all focus-visible:ring-primary"}),t>0&&(0,s.jsxs)(l.z,{type:"button",variant:"outline",size:"icon",onClick:()=>A(t),className:"hover:bg-red-500/10 hover:text-red-500 hover:border-red-500/20",children:[s.jsx(o.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Remove command"})]})]},t)),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Commands will be executed in sequence. First command is required."})]})]})]}),(0,s.jsxs)(d.eW,{className:"flex justify-between",children:[s.jsx(l.z,{variant:"outline",type:"button",onClick:()=>t.push("/tests"),children:"Cancel"}),s.jsx(l.z,{type:"submit",disabled:h,className:"shadow-sm",children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e?"Updating...":"Creating..."]}):e?"Update Test Definition":"Create Test Definition"})]})]})})}),s.jsx(U,{value:"github",children:s.jsx("form",{onSubmit:F,children:(0,s.jsxs)(d.Zb,{className:"shadow-sm",children:[(0,s.jsxs)(d.Ol,{children:[s.jsx(d.ll,{children:"Import from GitHub"}),s.jsx(d.SZ,{children:"Enter a public GitHub repository URL and (optionally) a path to auto-register test definitions from JSON files."})]}),(0,s.jsxs)(d.aY,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(u._,{htmlFor:"github-url",children:"GitHub Repo URL"}),s.jsx(c.I,{id:"github-url",placeholder:"https://github.com/yourorg/yourrepo",value:S,onChange:e=>I(e.target.value),required:!0,className:"transition-all focus-visible:ring-primary"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(u._,{htmlFor:"github-path",children:"Path (optional)"}),s.jsx(c.I,{id:"github-path",placeholder:"/tests",value:R,onChange:e=>D(e.target.value),className:"transition-all focus-visible:ring-primary"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Defaults to ",s.jsx("code",{children:"/tests"})," if not specified."]})]})]}),(0,s.jsxs)(d.eW,{className:"flex justify-between",children:[s.jsx(l.z,{variant:"outline",type:"button",onClick:()=>t.push("/tests"),children:"Cancel"}),s.jsx(l.z,{type:"submit",disabled:h||!S,className:"shadow-sm",children:h?"Syncing...":"Sync from GitHub"})]})]})})})]})}U.displayName=O.displayName},6907:(e,t,a)=>{a.d(t,{Ol:()=>o,SZ:()=>d,Zb:()=>i,aY:()=>c,eW:()=>u,ll:()=>l});var s=a(3029),r=a(2056),n=a(1080);let i=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("w-full rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let o=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("flex items-center gap-2 p-6 pt-0",e),...t}));u.displayName="CardFooter"},6920:(e,t,a)=>{a.d(t,{_:()=>d});var s=a(3029),r=a(2056),n=a(2614),i=a(9848),o=a(1080);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(({className:e,...t},a)=>s.jsx(n.f,{ref:a,className:(0,o.cn)(l(),e),...t}));d.displayName=n.f.displayName},8637:(e,t,a)=>{a.d(t,{Bw:()=>x,Ph:()=>c,Ql:()=>h,i4:()=>m,ki:()=>u});var s=a(3029),r=a(2056),n=a(4744),i=a(4921),o=a(841),l=a(3854),d=a(1080);let c=n.fC;n.ZA;let u=n.B4,m=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(n.xz,{ref:r,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,s.jsx(n.JO,{asChild:!0,children:s.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=n.xz.displayName;let f=r.forwardRef(({className:e,...t},a)=>s.jsx(n.u_,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(o.Z,{className:"h-4 w-4"})}));f.displayName=n.u_.displayName;let p=r.forwardRef(({className:e,...t},a)=>s.jsx(n.$G,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(i.Z,{className:"h-4 w-4"})}));p.displayName=n.$G.displayName;let x=r.forwardRef(({className:e,children:t,position:a="popper",...r},i)=>s.jsx(n.h_,{children:(0,s.jsxs)(n.VY,{ref:i,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[s.jsx(f,{}),s.jsx(n.l_,{className:(0,d.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(p,{})]})}));x.displayName=n.VY.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(n.__,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=n.__.displayName;let h=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(n.ck,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(n.wU,{children:s.jsx(l.Z,{className:"h-4 w-4"})})}),s.jsx(n.eT,{children:t})]}));h.displayName=n.ck.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(n.Z0,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=n.Z0.displayName},8205:(e,t,a)=>{a.d(t,{g:()=>i});var s=a(3029),r=a(2056),n=a(1080);let i=r.forwardRef(({className:e,...t},a)=>s.jsx("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));i.displayName="Textarea"},6710:(e,t,a)=>{a.d(t,{pm:()=>m});var s=a(2056);let r=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=o(d,e),l.forEach(e=>{e(d)})}function u({...e}){let t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,t]=s.useState(d);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},2497:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(1663).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},6740:(e,t,a)=>{a.d(t,{Pc:()=>j,ck:()=>A,fC:()=>k});var s=a(2056),r=a(4409),n=a(3100),i=a(4464),o=a(7733),l=a(6654),d=a(2377),c=a(9693),u=a(8723),m=a(7300),f=a(3029),p="rovingFocusGroup.onEntryFocus",x={bubbles:!1,cancelable:!0},h="RovingFocusGroup",[g,v,y]=(0,n.B)(h),[b,j]=(0,o.b)(h,[y]),[N,w]=b(h),T=s.forwardRef((e,t)=>(0,f.jsx)(g.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,f.jsx)(g.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,f.jsx)(C,{...e,ref:t})})}));T.displayName=h;var C=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,orientation:n,loop:o=!1,dir:l,currentTabStopId:g,defaultCurrentTabStopId:y,onCurrentTabStopIdChange:b,onEntryFocus:j,preventScrollOnEntryFocus:w=!1,...T}=e,C=s.useRef(null),S=(0,i.e)(t,C),I=(0,m.gm)(l),[R,k]=(0,u.T)({prop:g,defaultProp:y??null,onChange:b,caller:h}),[A,E]=s.useState(!1),_=(0,c.W)(j),F=v(a),M=s.useRef(!1),[O,V]=s.useState(0);return s.useEffect(()=>{let e=C.current;if(e)return e.addEventListener(p,_),()=>e.removeEventListener(p,_)},[_]),(0,f.jsx)(N,{scope:a,orientation:n,dir:I,loop:o,currentTabStopId:R,onItemFocus:s.useCallback(e=>k(e),[k]),onItemShiftTab:s.useCallback(()=>E(!0),[]),onFocusableItemAdd:s.useCallback(()=>V(e=>e+1),[]),onFocusableItemRemove:s.useCallback(()=>V(e=>e-1),[]),children:(0,f.jsx)(d.WV.div,{tabIndex:A||0===O?-1:0,"data-orientation":n,...T,ref:S,style:{outline:"none",...e.style},onMouseDown:(0,r.M)(e.onMouseDown,()=>{M.current=!0}),onFocus:(0,r.M)(e.onFocus,e=>{let t=!M.current;if(e.target===e.currentTarget&&t&&!A){let t=new CustomEvent(p,x);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=F().filter(e=>e.focusable);D([e.find(e=>e.active),e.find(e=>e.id===R),...e].filter(Boolean).map(e=>e.ref.current),w)}}M.current=!1}),onBlur:(0,r.M)(e.onBlur,()=>E(!1))})})}),S="RovingFocusGroupItem",I=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:a,focusable:n=!0,active:i=!1,tabStopId:o,children:c,...u}=e,m=(0,l.M)(),p=o||m,x=w(S,a),h=x.currentTabStopId===p,y=v(a),{onFocusableItemAdd:b,onFocusableItemRemove:j,currentTabStopId:N}=x;return s.useEffect(()=>{if(n)return b(),()=>j()},[n,b,j]),(0,f.jsx)(g.ItemSlot,{scope:a,id:p,focusable:n,active:i,children:(0,f.jsx)(d.WV.span,{tabIndex:h?0:-1,"data-orientation":x.orientation,...u,ref:t,onMouseDown:(0,r.M)(e.onMouseDown,e=>{n?x.onItemFocus(p):e.preventDefault()}),onFocus:(0,r.M)(e.onFocus,()=>x.onItemFocus(p)),onKeyDown:(0,r.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){x.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,a){var s;let r=(s=e.key,"rtl"!==a?s:"ArrowLeft"===s?"ArrowRight":"ArrowRight"===s?"ArrowLeft":s);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)))return R[r]}(e,x.orientation,x.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=y().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){"prev"===t&&a.reverse();let s=a.indexOf(e.currentTarget);a=x.loop?function(e,t){return e.map((a,s)=>e[(t+s)%e.length])}(a,s+1):a.slice(s+1)}setTimeout(()=>D(a))}}),children:"function"==typeof c?c({isCurrentTabStop:h,hasTabStop:null!=N}):c})})});I.displayName=S;var R={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function D(e,t=!1){let a=document.activeElement;for(let s of e)if(s===a||(s.focus({preventScroll:t}),document.activeElement!==a))return}var k=T,A=I}};